<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
      rel="stylesheet"
    />
    <title>Online Meal Entry</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container p-2">
      <div class="mb-3 d-flex justify-content-center align-item-center">
        <h1 class="text-center btn btn-warning rounded-pills fs-2">
          Online Meal Entry
        </h1>
      </div>
      <form action="https://sheetdb.io/api/v1/evzrxwx6ih5bj" method="post" id="sheetdb-form">
        <div class="mb-3 mt-3">
          <label for="Date" class="form-label">Date:</label>
          <input
            type="date"
            id="Date"
            name="data[Date]"
            class="form-control"
            placeholder="Date"
            required
          />
        </div>
        <div class="mb-3 mt-3">
          <label for="Full Name" class="form-label">Name:</label>
          <input
            type="text"
            id="Full Name"
            name="data[Full Name]"
            class="form-control"
            placeholder="Full Name"
            required
          />
        </div>
        <div class="mb-3 mt-3">
          <label for="Breakfast" class="form-label">Breakfast:</label>
          <input
            type="text"
            id="Breakfast"
            name="data[Breakfast]"
            class="form-control"
            placeholder="Breakfast"
            min="0.5"
            max="10"
            step="0.5"
            required
          />
        </div>
        <div class="mb-3 mt-3">
          <label for="Launch" class="form-label">Launch:</label>
          <input
            type="text"
            id="Launch"
            name="data[Launch]"
            class="form-control"
            placeholder="Launch"
            min="0.5"
            max="10"
            step="0.5"
            required
          />
        </div>
        <div class="mb-3 mt-3">
          <label for="Dinner" class="form-label">Dinner:</label>
          <input
            type="text"
            id="Dinner"
            name="data[Dinner]"
            class="form-control"
            placeholder="Dinner"
            min="0.5"
            max="10"
            step="0.5"
            required
          />
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
      <br>
      <p id="message"></p>
      <br>
      <div id="sheetLink" style="display: none;">
        <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vRBBqtv-GVv19rTumMFGgydS3BylNfUZ1voR4SWupaxJsk0FEaWuQH7JhpLRPy7SMmqZCsNpeoI5pJC/pubhtml?gid=0&single=true" class="btn btn-primary">See your meal sheet</a>
      </div>
    </div>

    <!-- script  -->

    <script>
      const msg = document.getElementById('message');
      const sheetLink = document.getElementById('sheetLink');

      let form = document.getElementById('sheetdb-form');
        form.addEventListener("submit", e => {
          e.preventDefault();
          fetch(form.action, {
              method : "POST",
              body: new FormData(document.getElementById("sheetdb-form")),
          }).then(
              response => response.json()
          ).then((html) => {
            // you can put any JS code here
            
            msg.innerHTML = 'Succesfully Added. Now Click on Button.'

          });
          if(msg){
            sheetLink.style.display = 'initial';
            form.reset();
          }
        });
  </script>

  <script>
    
  </script>
    
  
  </body>
</html>
